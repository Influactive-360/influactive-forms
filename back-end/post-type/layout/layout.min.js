document.addEventListener("DOMContentLoaded",()=>{document.getElementById("add_new_layout").addEventListener("click",e=>{e.preventDefault();const layoutCount=parseInt(document.getElementById("layoutCount").value,10);const firstLayout=document.querySelector(".influactive_form_layout_container");const newLayout=firstLayout.cloneNode(true);newLayout.id=`influactive_form_layout_container_${layoutCount}`;newLayout.dataset.layout=layoutCount.toString();const inputs=newLayout.querySelectorAll("input, textarea");inputs.forEach(input=>{input.name=input.name.replace(/\[0]/,`[${layoutCount}]`);input.value=""});if(!newLayout.querySelector(".delete_layout")){const deleteButton=document.createElement("button");deleteButton.type="button";deleteButton.className="delete_layout";deleteButton.textContent=influactiveFormsTranslations.delete_layout;newLayout.appendChild(deleteButton)}document.getElementById("layout_container").appendChild(newLayout);document.getElementById("layoutCount").value=layoutCount+1});document.getElementById("layout_container").addEventListener("click",e=>{if(e.target&&e.target.classList.contains("delete_layout")){e.preventDefault();const layoutContainer=e.target.closest(".influactive_form_layout_container");if(layoutContainer.id==="influactive_form_layout_container_0"){return}layoutContainer.remove();const layoutCount=parseInt(document.getElementById("layoutCount").value,10);document.getElementById("layoutCount").value=layoutCount-1}})});