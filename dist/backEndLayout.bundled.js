document.addEventListener("DOMContentLoaded",()=>{document.getElementById("add_new_layout").addEventListener("click",n=>{n.preventDefault();const t=parseInt(document.getElementById("layoutCount").value,10),o=document.querySelector(".influactive_form_layout_container").cloneNode(!0);if(o.id=`influactive_form_layout_container_${t}`,o.dataset.layout=t.toString(),o.querySelectorAll("input, textarea").forEach(e=>{const a=e.cloneNode(!0);a.name=a.name.replace(/\[0]/,`[${t}]`),a.value="",e.replaceWith(a)}),!o.querySelector(".delete_layout")){const e=document.createElement("button");e.type="button",e.className="delete_layout",e.textContent=influactiveFormsTranslations.delete_layout,o.appendChild(e)}document.getElementById("layout_container").appendChild(o),document.getElementById("layoutCount").value=t+1}),document.getElementById("layout_container").addEventListener("click",n=>{if(n.target&&n.target.classList.contains("delete_layout")){n.preventDefault();const t=n.target.closest(".influactive_form_layout_container");if(t.id==="influactive_form_layout_container_0")return;t.remove();const l=parseInt(document.getElementById("layoutCount").value,10);document.getElementById("layoutCount").value=l-1}})});
